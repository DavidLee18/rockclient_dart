<div *ngIf="leaders != null">
<skawa-card *ngFor="let leader of leaders['data']">
    <skawa-card-header>
        <skawa-header-title>{{leader['name']}}</skawa-header-title>
        <skawa-header-subhead>{{leader['mobile']}}</skawa-header-subhead>
    </skawa-card-header>
    <skawa-card-content>
        ID: {{leader['memberId']}}
        <material-chips removable>
            <material-chip *ngFor="let campus of leader['campuses']"
                (remove)="delCampus(leader['memberId'], leader['campuses'], campus)">
                {{campus}}
            </material-chip>
            
            <material-button icon (trigger)="startToAdd(leader)">
                <material-icon icon="add"></material-icon>
            </material-button>
        </material-chips>
    </skawa-card-content>
    <skawa-card-actions>
        <material-button icon (trigger)="unsetLeader(leader['memberId'])">
            <material-icon icon="delete"></material-icon>
        </material-button>
    </skawa-card-actions>
</skawa-card>
</div>
<modal [(visible)]="isAdding">
    <material-dialog>
        <div header>
            <h1>담당 캠퍼스 추가</h1>
        </div>
        <material-dropdown-select
                [buttonText]="campusToAdd"
                [options]="campuses"
                [(selection)]="campusToAdd"></material-dropdown-select>
        <div footer>
            <material-button icon (trigger)="addCampus(currentLeader['memberId'], currentLeader['campuses'], campusToAdd)">
                <material-icon icon="check"></material-icon>
            </material-button>
            <material-button autofocus icon (trigger)="isAdding = false">
                <material-icon icon="close"></material-icon>
            </material-button>
        </div>
    </material-dialog>
</modal>
<skawa-snackbar></skawa-snackbar>
<modal [visible]="error">
    <material-dialog info>
        <div header>
            <material-button autofocus icon (trigger)="error = false">
                <material-icon icon="close"></material-icon>
            </material-button>
            
            <h1>오류</h1>
        </div>
        {{errorMessage}}
        <div footer></div>
    </material-dialog>
</modal>
<material-progress *ngIf="leaders == null" [indeterminate]="true"></material-progress>
<material-fab raised (trigger)="isSetting = true">
    <material-icon icon="add"></material-icon>
</material-fab>
<modal [visible]="isSetting">
    <material-dialog info>
        <div header>            
            <h1>리더 등록</h1>
        </div>
        
        <div footer>
            <material-button icon (trigger)="setLeader(currentLeader['memberId'])">
                <material-icon icon="check"></material-icon>
            </material-button>
            <material-button autofocus icon (trigger)="isSetting = false">
                <material-icon icon="close"></material-icon>
            </material-button>
        </div>
    </material-dialog>
</modal>